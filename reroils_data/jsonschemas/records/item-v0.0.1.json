{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "title": "Item",
    "description": "JSON schema for an item",
    "properties": {
        "$schema": {
            "title": "Schema",
            "description": "Schema to validate item records against",
            "type": "string",
            "minLength": 9
        },
        "itemid": {
            "title": "Item ID",
            "description": "Persistent Identifier for the item",
            "type": "string",
            "minLength": 1
        },
        "barcode": {
            "title": "Barcode",
            "description": "Barecode of the item",
            "type": "integer",
            "minimum": 10000000000
        },
        "callNumber": {
            "title": "Call number",
            "description": "Call number of the item",
            "type": "string",
            "pattern": "^(PA|SR|RR)-\\d{5}$"
        },
        "location": {
            "title": "location",
            "description": "location of the item",
            "type": "string",
            "enum": [
                "publicAccess",
                "storeroom",
                "readingRoom"
            ]
        },
        "_circulation":{
            "type":"object",
            "properties":{
               "status":{
                  "enum":[
                     "on_shelf",
                     "on_loan",
                     "missing"
                  ]
               },
               "holdings":{
                  "type":"array",
                  "items":{
                     "$ref":"../circulation/loan-cycle-v1.0.0.json"
                  }
               }
            }
         }
    },
    "additionalProperties": false,
    "required": [ "$schema", "itemid", "barcode", "callNumber", "location" ]
}
