{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Schema für bibliographische Datensätze",
    "type": "object",
    "required": ["$schema", "bibid", "title", "languages"],
    "additionalProperties": false,
    "properties": {
        "$schema": {
            "title": "Schema",
            "description": "Schema zur Validierung von Datensätzen von Monographien.",
            "type": "string",
            "minLength": 7
        },
        "bibid": {
            "title": "Bibid",
            "description": "rero21 persistente Identifikatoren für bibliographische Datensätze.",
            "type": "string",
            "minLength": 1
        },
        "title": {
            "title": "Titel",
            "description": "Erforderlich. Vollständiger Titel ohne Verantwortlichkeitsangabe.",
            "type": "string",
            "minLength": 1
        },
        "titlesProper": {
            "title": "Einheitstitel",
            "description": "Einheitstitel, ein verwandter oder analytischer Titel, der von einer Autoritätsdatei oder -liste kontrolliert und als zusätzlicher Sucheinstieg verwendet wird.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 1
            }
        },
        "languages": {
            "title": "Sprachen",
            "description": "Liste der Sprachen der Ressource.",
            "type": "array",
            "uniqueItems": true,
            "minItems": 1,
            "validationMessage": "Benötigt mindestens einen Wert.",
            "items": {
                "type": "object",
                "required": ["language"],
                "validationMessage": "Benötigt einen definierten Wert.",
                "properties": {
                    "language": {
                        "title" : "Sprache",
                        "description": "Erforderlich. Haupt- oder Nebensprache der Ressource.",
                        "type": "string",
                        "validationMessage": "Benötigt einen gültigen Wert.",
                        "enum": [
                            "fre",
                            "ger",
                            "eng",
                            "ita",
                            "spa",
                            "ara",
                            "chi",
                            "lat",
                            "heb",
                            "jpn",
                            "por",
                            "rus"
                        ]
                    }
                }
            }
        },
        "translatedFrom": {
            "title": "Übersetzt aus",
            "description": "Sprache, aus deren die Ressource übersetzt wurde.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 2,
                "validationMessage": "Soll im ISO-639-Format mit 3 Zeichen vorliegen (z.B. <code>eng</code> für English)."
            }
        },
        "authors": {
            "title": "Autoren",
            "description": "Autor(en) der Ressource. Es können sowohl Personen als auch Organisationen sein.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "object",
                "required": ["name", "type"],
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "title": "Name",
                        "description": "Name der Person oder der Organisation.",
                        "type": "string"
                    },
                    "type": {
                        "title": "Typ",
                        "description": "Identifiziert, ob der Autor eine Person oder eine Organisation ist.",
                        "type": "string",
                        "enum": [
                            "person",
                            "organisation"
                        ],
                        "default": "person"
                    },
                    "date": {
                        "title": "Datum",
                        "description": "Informationen über die Geburt und den Tod einer Person. Hilfreich, um Menschen zu unterscheiden.",
                        "type": "string"
                    },
                    "qualifier": {
                        "title": "Qualifizierend",
                        "description": "Informationen über die Person (z.B. ihren Beruf). Hilfreich, um Menschen zu unterscheiden.",
                        "type": "string"
                    }
                }
            }
        },
        "publishers": {
            "title": "Verlag",
            "description": "Verlag der Ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "title": "Name",
                        "description": "Verlagsname.",
                        "type": "array",
                        "minItems": 1,
                        "items": {
                            "type": "string",
                            "minLength": 2
                        }
                    },
                    "place": {
                        "title": "Erscheinungsort",
                        "description": "Erscheinungsort des Verlages.",
                        "type": "array",
                        "minItems": 1,
                        "items": {
                            "type": "string",
                            "minLength": 2
                        }
                    }
                }
            }

        },
        "publicationYear": {
            "title": "Erscheinungsdatum",
            "description": "Erscheinungsdatum. Muss eine ganze Zahl sein (z.B. 1989, 453, -50). Dient zum Sortieren der Suchergebnisse. Sobald dieses Feld erfasst wurde, kann im nächsten Feld ein frei gestaltetes Erscheinungsdatum hinzugefügt werden.",
            "type": "integer",
            "minimum": -9999,
            "maximum": 2050,
            "validationMessage": "Muss eine ganze Zahl sein, von -9999 bis +9999. Null-Präfixe sind nicht benötigt."
        },
        "freeFormedPublicationDate": {
            "title": "Erscheinungsdatum (frei gestaltet)",
            "description": "Erscheinungsdatum in freier Form. Das Feld kann nur erfasst werden, sobald das normalisiert Erscheinungsdatum angegeben ist.",
            "type": "string",
            "minLength": 3
        },
        "extent": {
            "title": "Umfang",
            "description": "Umfang der Ressource, z.B. Anzahl Seiten oder Bände",
            "type": "string",
            "minLength": 1
        },
        "otherMaterialCharacteristics": {
            "title": "Andere Materialeigenschaften",
            "description": "Andere Materialeigenschaften(z.B. Abbildungen, schwarz-weiss oder oder farbig).",
            "type": "string",
            "minLength": 1
        },
        "formats": {
            "title": "Format",
            "description": "Format der Ressource (z.B. Masse in cm).",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 1
            }
        },
        "additionalMaterials": {
            "title": "Zusätzliche Materialien",
            "description": "Begleitmaterial der Ressource (z.B. Landkarten).",
            "type": "string",
            "minLength": 1
        },
        "series": {
            "title": "Reihe",
            "description": "Reihe von der Ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "object",
                "required": ["name"],
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "title": "Titel",
                        "description": "Titel der Reihe.",
                        "type": "string"
                    },
                    "number": {
                        "title": "Zählung",
                        "description": "Zählung der Ressource innerhalb der Reihe.",
                        "type": "string"
                    }
                }
            }
        },
        "notes": {
            "title": "Anmerkung",
            "description": "Anmerkung zur Ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 1
            }
        },
        "abstracts": {
            "title": "Abstrakt",
            "description": "Abstrakt der Ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 3
            }
        },
        "identifiers": {
            "title": "Identifikatoren",
            "description": "Permanente Identifikatoren für die Ressource, z.B. reroID und ISBN.",
            "type": "object",
            "additionalProperties": false,
            "minProperties": 1,
            "properties": {
                "reroID": {
                    "title": "reroID",
                    "description": "Entsprechende reroID des ursprünglichen RERO-Datensatzes.",
                    "type": "string",
                    "minLength": 1
                },
                "bnfID": {
                    "title": "bnfID",
                    "description": "Entsprechende bnfID des ursprünglichen BNF-Datensatzes.",
                    "type": "string",
                    "minLength": 1
                },
                "isbn": {
                    "title": "ISBN",
                    "description": "ISBN der Ressource.",
                    "type": "string",
                    "pattern": "^978[0-9]{10}$",
                    "validationMessage": "Soll eine gültige ISBN-13 Kontrollnummer ohne Bindestrich sein."
                }
            }
        },
        "subjects": {
            "title": "Schlagwort",
            "description": "Schlagwort der Ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 1
            }
        }
    }
}
