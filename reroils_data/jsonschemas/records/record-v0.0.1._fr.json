{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Schéma pour les notices bibliographiques",
    "type": "object",
    "required": ["$schema", "bibid", "title", "languages"],
    "additionalProperties": false,
    "properties": {
        "$schema": {
            "title": "Schéma",
            "description": "Schéma de validation des notices bibliographiques de type monographies.",
            "type": "string",
            "minLength": 7
        },
        "bibid": {
            "title": "Bibid",
            "description": "Identifiants rero21 pérennes pour les notices bibliographiques.",
            "type": "string",
            "minLength": 1
        },
        "title": {
            "title": "Titre",
            "description": "Requis. Titre complet sans mention de responsabilité.",
            "type": "string",
            "minLength": 1
        },
        "titlesProper": {
            "title": "Titre uniforme",
            "description": "Titre uniforme, un titre associé ou analytique, contrôlé par un fichier ou une liste d'autorités, et utilisé comme point d'accès supplémentaire.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 1
            }
        },
        "languages": {
            "title": "Langues",
            "description": "Listes des langues de la ressource.",
            "type": "array",
            "uniqueItems": true,
            "minItems": 1,
            "validationMessage": "Au moins une valeur est requise.",
            "items": {
                "type": "object",
                "required": ["language"],
                "validationMessage": "Exige une valeur acceptée.",
                "properties": {
                    "language": {
                        "title" : "Langue",
                        "description": "Requis. Langue de la ressource, principale ou secondaire.",
                        "type": "string",
                        "validationMessage": "Exige une valeur valide.",
                        "enum": [
                            "fre",
                            "ger",
                            "eng",
                            "ita",
                            "spa",
                            "ara",
                            "chi",
                            "lat",
                            "heb",
                            "jpn",
                            "por",
                            "rus"
                        ]
                    }
                }
            }
        },
        "translatedFrom": {
            "title": "Traduit de",
            "description": "Langue de laquelle la ressource a été traduite.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 2,
                "validationMessage": "Doit être dans le format ISO 639, en 3 caractères, par exemple <code>eng</code> pour l'anglais."
            }
        },
        "authors": {
            "title": "Auteurs",
            "description": "Auteur(s) de la ressource. Peut être soit une personne soit une collectivité.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "object",
                "required": ["name", "type"],
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "title": "Nom",
                        "description": "Nom de la personne ou de la collectivité.",
                        "type": "string"
                    },
                    "type": {
                        "title": "Type",
                        "description": "Identifie si l'auteur est une personne ou une collectivité.",
                        "type": "string",
                        "enum": [
                            "person",
                            "organisation"
                        ],
                        "default": "person"
                    },
                    "date": {
                        "title": "Date",
                        "description": "Informations sur les dates de naissance et de décès d'une personne. Utile pour distinguer les homonymes.",
                        "type": "string"
                    },
                    "qualifier": {
                        "title": "Qualificatif",
                        "description": "Informations qualifiant la personne, par exemple sa profession. Utile pour distinguer les homonymes.",
                        "type": "string"
                    }
                }
            }
        },
        "publishers": {
            "title": "Editeurs",
            "description": "Editeur(s) de la ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "title": "Nom",
                        "description": "Nom de l'éditeur.",
                        "type": "array",
                        "minItems": 1,
                        "items": {
                            "type": "string",
                            "minLength": 2
                        }
                    },
                    "place": {
                        "title": "Lieu de publication",
                        "description": "Lieu de publication de l'éditeur.",
                        "type": "array",
                        "minItems": 1,
                        "items": {
                            "type": "string",
                            "minLength": 2
                        }
                    }
                }
            }

        },
        "publicationYear": {
            "title": "Date de publication",
            "description": "Date de publication. Doit être un chiffre, par exemple 1989, 453, -50. Utilisée pour filtrer les résultats de recherche. Une fois le champ renseigné, une date de publication sous forme libre peut être ajoutée dans le champ suivant.",
            "type": "integer",
            "minimum": -9999,
            "maximum": 2050,
            "validationMessage": "Doit être un chiffre, de -9999 à +9999. Aucun préfixe n'est nécessaire."
        },
        "freeFormedPublicationDate": {
            "title": "Date de publication (forme libre)",
            "description": "Date de publication sous forme libre. S'il existe une date de publication sous forme normalisée, une date sous forme libre peut être ajoutée et affichée.",
            "type": "string",
            "minLength": 3
        },
        "extent": {
            "title": "Importance matérielle",
            "description": "Importance matérielle de la ressource, par exemple le nombre de pages ou de volumes.",
            "type": "string",
            "minLength": 1
        },
        "otherMaterialCharacteristics": {
            "title": "Autres caractéristiques matérielles",
            "description": "Autres caractéristiques matérielles, par exemple des illustrations, noir et blanc ou en couleurs.",
            "type": "string",
            "minLength": 1
        },
        "formats": {
            "title": "Format",
            "description": "Format de la ressource, par exemple les dimensions en cm.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 1
            }
        },
        "additionalMaterials": {
            "title": "Matériel d'accompagnement",
            "description": "Matériel d'accompagnement de la ressource, par exemple des cartes géographiques.",
            "type": "string",
            "minLength": 1
        },
        "series": {
            "title": "Collection",
            "description": "Collection à laquelle appartient la ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "object",
                "required": ["name"],
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "title": "Titre",
                        "description": "Titre de la collection.",
                        "type": "string"
                    },
                    "number": {
                        "title": "Numérotation",
                        "description": "Numérotation de la ressource au sein de la collection.",
                        "type": "string"
                    }
                }
            }
        },
        "notes": {
            "title": "Note",
            "description": "Note sur la ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 1
            }
        },
        "abstracts": {
            "title": "Résumé",
            "description": "Résumé de la ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 3
            }
        },
        "identifiers": {
            "title": "Identifiants",
            "description": "Identifiants pérennes de la ressource, par exemple le reroID et l'ISBN.",
            "type": "object",
            "additionalProperties": false,
            "minProperties": 1,
            "properties": {
                "reroID": {
                    "title": "reroID",
                    "description": "reroID correspondant de la notice bibliographique RERO d'origine.",
                    "type": "string",
                    "minLength": 1
                },
                "bnfID": {
                    "title": "bnfID",
                    "description": "bnfID correspondant de la notice bibliographique BNF d'origine.",
                    "type": "string",
                    "minLength": 1
                },
                "isbn": {
                    "title": "ISBN",
                    "description": "ISBN de la ressource.",
                    "type": "string",
                    "pattern": "^978[0-9]{10}$",
                    "validationMessage": "Doit être un ISBN-13 valide sans traits d'union."
                }
            }
        },
        "subjects": {
            "title": "Sujet",
            "description": "Sujet de la ressource.",
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "string",
                "minLength": 1
            }
        }
    }
}
